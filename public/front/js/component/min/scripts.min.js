$(document).ready(function(){function a(a){var e=$("#area"),t=$("#shipping_cost"),o=$("#shipping_cost_input"),s=$("#totals"),n=$("#grandtotal"),l=$("#totalhidden"),i=$(".shipping__cost--price"),c=e.val(),r=e.data("url");void 0!=v[c]||null!=v[c]?(t.empty().append(v[c]),e.removeAttr("disabled"),t.removeAttr("disabled"),null!=a&&t.val(a)):$.get(r+"/"+c,function(a){var e=a;if(1==e.result.status)if(""!=e.result.data){var c=parseInt(s.val())+parseInt(e.result.data),r=accounting.formatMoney(e.result.data,{symbol:"Rp",thousand:".",decimal:","}),d=accounting.formatMoney(c,{symbol:"Rp",thousand:".",decimal:","});t.text(r),i.text(r),t.val(r),n.text(d),l.val(c),o.val(e.result.data)}else t.text("cannot find your area"),i.text("cannot find your area"),o.text("cannot find your area"),o.val("");else t.text("error"),o.text("error")})}function e(a){var e=$("#city"),t=$("#area");e.attr("disabled","disabled"),t.attr("disabled","disabled");var n=e.val(),l=e.data("url");void 0!=v[n]||null!=v[n]?(t.empty().append(v[n]),e.removeAttr("disabled"),t.removeAttr("disabled"),null!=a&&t.val(a)):$.get(l+"/"+n,function(l){var i=l;if(1==i.result.status){var c=o(i.result.data);v[n]=c,t.empty().append(v[n]),e.removeAttr("disabled"),t.removeAttr("disabled"),null!=a&&t.val(a)}else s(i.result.status,i.result.msg)})}function t(a){var e=$("#province"),t=$("#city");e.attr("disabled","disabled"),t.attr("disabled","disabled");var n=e.val(),l=e.data("url");void 0!=v[n]||null!=v[n]?(t.empty().append(v[n]),e.removeAttr("disabled"),t.removeAttr("disabled"),null!=a&&t.val(a)):$.get(l+"/"+n,function(l){var i=l;if(1==i.result.status){var c=o(i.result.data);v[n]=c,t.empty().append(v[n]),e.removeAttr("disabled"),t.removeAttr("disabled"),null!=a&&t.val(a)}else s(i.result.status,i.result.msg)})}function o(a){var e="";return $.each(a,function(){e+="<option value='"+this.id+"'>"+this.name+"</option>"}),e}function s(a,e){var t="";return t+="<div class='pure-form__line'>",t+="<label></label>",t+=1!=a?"<div class='notification fail canhide career-notif'>"+e+"</div>":"<div class='notification success canhide career-notif'>"+e+"</div>",t+="</div>"}function n(a){$.ajax({type:"POST",url:"ajax_dropdown_search",dataType:"json",cache:!1,data:{filterOpts:a},beforeSend:function(){$(".product--ul").append(u())},success:function(a){$(".loader--show").remove(),$(".product--ul").append(l(a))}})}function l(a){var e=window.location.origin,t="";return $.each(a,function(){var a=this.name,o=accounting.formatNumber(this.price,{symbol:"Rp",thousand:".",decimal:","});t+="<li class='product--li'>",t+="<a href='"+e+"/product/"+this.id+"-"+a.replace(/\s+/g,"-")+"'class='product--a'>",t+="<img src='"+e+"/assets/img/Products/product/"+this.image+"' class='product--img' alt>",t+="<h3 class='product--title'>"+this.name+"</h3>",t+="<h3 class='product--price'>Rp."+o+"</h3>",t+="</a>",t+="</li>"}),t}function i(){var a=[];return b.each(function(){this.checked&&a.push(this.value)}),a}function c(a){var e=window.location.origin,t=e+"/ajax_search";$.ajax({type:"POST",url:t,dataType:"json",cache:!1,data:{filterOpts:a},beforeSend:function(){$(".product--ul").append(u())},success:function(a){$(".product--ul").empty(),$(".product__pagination").empty(),$(".product--ul").append(l(a))}})}function r(a){var e=window.location.origin,t="";return $.each(a,function(){var a=this.name,o=accounting.formatNumber(this.price,{symbol:"Rp",thousand:".",decimal:","});t+="<li class='product--li'>",t+="<a href='"+e+"/product/"+this.id+"-"+a.replace(/\s+/g,"-")+"'class='product--a'>",t+="<img src='"+e+"/assets/img/Products/product/"+this.image+"' class='product--img' alt>",t+="<h3 class='product--title'>"+this.name+"</h3>",t+="<h3 class='product--price'>Rp."+o+"</h3>",t+="</a>",t+="</li>"}),t}function d(){var a=$("input:checked").val();return a}function p(a){var e=window.location.origin,t=e+"/ajax_radio_search";$.ajax({type:"POST",url:t,dataType:"json",cache:!1,data:{filterOpts:a},beforeSend:function(){$(".product--ul").append(u())},success:function(a){$(".product--ul").empty(),$(".product__pagination").empty(),$(".product--ul").append(r(a))}})}function u(){var a="";return a+="<div class='loader--show'>",a+=" <div class='loader--gif'>",a+="</div>",a+="</div>"}function m(){{var a=document.getElementById("map_canvas"),e={center:new google.maps.LatLng(44.5403,-78.5463),zoom:8,mapTypeId:google.maps.MapTypeId.ROADMAP};new google.maps.Map(a,e)}}$(".slider__banner").bxSlider({captions:!0,mode:"fade"});var _=0,f=5,h=$(".slider__bestseller").bxSlider({minSlides:1,maxSlides:f,touchEnabled:!0,startSlide:_,onSliderLoad:function(){for(var a=$(".slider__bestseller img"),e=_*f+f,t=e+f,o=e;t>o;o++){var s='[data-src="'+a.eq(o).data("src")+'"]';$(s).attr("src",$(s).data("src")).one("load",function(){$(this).removeClass("lazy")})}},onSlideBefore:function(){_=h.getCurrentSlide();for(var a=$(".slider__bestseller img"),e=_*f+f,t=e+f,o=e;t>o;o++){var s='[data-src="'+a.eq(o).data("src")+'"]';$(s).attr("src",$(s).data("src")).one("load",function(){$(this).removeClass("lazy")})}}}),h=$(".slider__recommended").bxSlider({minSlides:1,maxSlides:f,controls:!1,touchEnabled:!0,startSlide:_,onSliderLoad:function(){for(var a=$(".slider__recommended img"),e=_*f+f,t=e+f,o=e;t>o;o++){var s='[data-src="'+a.eq(o).data("src")+'"]';$(s).attr("src",$(s).data("src")).one("load",function(){$(this).removeClass("lazy")})}},onSlideBefore:function(){_=h.getCurrentSlide();for(var a=$(".slider__recommended img"),e=_*f+f,t=e+f,o=e;t>o;o++){var s='[data-src="'+a.eq(o).data("src")+'"]';$(s).attr("src",$(s).data("src")).one("load",function(){$(this).removeClass("lazy")})}}}),h=$(".slider__corporate").bxSlider({minSlides:1,maxSlides:f,touchEnabled:!0,startSlide:_,onSliderLoad:function(){for(var a=$(".slider__middle img"),e=_*f+f,t=e+f,o=e;t>o;o++){var s='[data-src="'+a.eq(o).data("src")+'"]';$(s).attr("src",$(s).data("src")).one("load",function(){$(this).removeClass("lazy")})}},onSlideBefore:function(){_=h.getCurrentSlide();for(var a=$(".slider__middle img"),e=_*f+f,t=e+f,o=e;t>o;o++){var s='[data-src="'+a.eq(o).data("src")+'"]';$(s).attr("src",$(s).data("src")).one("load",function(){$(this).removeClass("lazy")})}}}),h=$(".slider__specialgifts").bxSlider({minSlides:1,maxSlides:f,touchEnabled:!0,startSlide:_}),h=$(".slider__weddingworld").bxSlider({minSlides:1,maxSlides:f,touchEnabled:!0,startSlide:_});echo.init({offset:100,throttle:250}),$(".menu__account--ul li .button--login").click(function(a){a.preventDefault();var e=$(this).attr("href");$(e).addClass("popup--show"),$(e).removeClass("popup--hide"),$(".header").addClass("bg--blur"),$(".main__container__wrapper").addClass("bg--blur"),$(".main__container__wrapper").show(),$(".popup__search--wrapper").css("position","absolute"),$(window).width()>700&&($(".footer").addClass("bg--blur"),$(".footer").show()),$(".popup--wrapper").hasClass("popup--show")&&($(".popup__search--wrapper").removeClass("popup--show"),$(".popup__search--wrapper").addClass("popup--hide"))}),$(".menu__account--ul li .popup--search--a").click(function(a){a.preventDefault(),echo.init({offset:100,throttle:250});var e=$(this).attr("href");$(e).addClass("popup--show"),$(e).removeClass("popup--hide"),$(".popup__search--wrapper").css("position","relative"),$(".main__container__wrapper").hide(),$(".product--li").removeClass("product--li__search"),$(window).width()<700&&$(".collapse__link--footer").hide(),$(window).width()>700&&$(".footer").hide()}),$(".popup--close").click(function(){$(".popup--wrapper").addClass("popup--hide"),$(".popup--wrapper").removeClass("popup--show"),$(".header").removeClass("bg--blur"),$(".main__container__wrapper").removeClass("bg--blur"),$(".main__container__wrapper").show(),$(".popup__search--wrapper").css("position","absolute"),$(window).width()<700&&$(".collapse__link--footer").show(),$(window).width()>700&&($(".footer").removeClass("bg--blur"),$(".footer").show()),$(".product--li").hasClass("product--li__search")?$(".product--li").removeClass("product--li__search"):$(".product--li").addClass("product--li__search")}),$(".popup--overlay").click(function(){$(".popup--wrapper").addClass("popup--hide"),$(".popup--wrapper").removeClass("popup--show"),$(".header").removeClass("bg--blur"),$(".main__container__wrapper").removeClass("bg--blur"),$(window).width()>700&&$(".footer").removeClass("bg--blur")}),$(".menu__responsive").hide(),$(".logo--menu").click(function(){$(".menu__responsive").slideToggle("slow")}),$(window).width()<700&&$(".accountname--link").click(function(){$(".menu--accountname__responsive--ul").slideToggle("slow")}),$(window).width()>700&&$(".accountname--link").click(function(){$(".menu--accountname--ul").hasClass("hide--menu--accountname")?($(".menu--accountname--ul").removeClass("hide--menu--accountname"),$(".menu--accountname--ul").addClass("show--menu--accountname")):($(".menu--accountname--ul").removeClass("show--menu--accountname"),$(".menu--accountname--ul").addClass("hide--menu--accountname"))}),$(window).width()<1024&&($(".collapse__link--cat").click(function(){$(".collapse__container--cat").slideToggle("slow"),$(".icon--collapse--cat").hasClass("icon--collapse--min")?($(".icon--collapse--cat").removeClass("icon--collapse--min"),$(".icon--collapse--cat").addClass("icon--collapse--max")):($(".icon--collapse--cat").removeClass("icon--collapse--max"),$(".icon--collapse--cat").addClass("icon--collapse--min"))}),$(".collapse__link--col").click(function(){$(".collapse__container--col").slideToggle("slow"),$(".icon--collapse--col").hasClass("icon--collapse--min")?($(".icon--collapse--col").removeClass("icon--collapse--min"),$(".icon--collapse--col").addClass("icon--collapse--max")):($(".icon--collapse--col").removeClass("icon--collapse--max"),$(".icon--collapse--col").addClass("icon--collapse--min"))}),$(".collapse__link--oca").click(function(){$(".collapse__container--oca").slideToggle("slow"),$(".icon--collapse--oca").hasClass("icon--collapse--min")?($(".icon--collapse--oca").removeClass("icon--collapse--min"),$(".icon--collapse--oca").addClass("icon--collapse--max")):($(".icon--collapse--oca").removeClass("icon--collapse--max"),$(".icon--collapse--oca").addClass("icon--collapse--min"))}),$(".collapse__link--price").click(function(){$(".collapse__container--price").slideToggle("slow"),$(".icon--collapse--price").hasClass("icon--collapse--min")?($(".icon--collapse--price").removeClass("icon--collapse--min"),$(".icon--collapse--price").addClass("icon--collapse--max")):($(".icon--collapse--price").removeClass("icon--collapse--max"),$(".icon--collapse--price").addClass("icon--collapse--min"))}),$(".collapse__link--footer").click(function(){return $(".collapse__container--footer").slideToggle("slow"),$(".icon--collapse--footer").hasClass("icon--collapse--min")?($(".icon--collapse--footer").removeClass("icon--collapse--min"),$(".icon--collapse--footer").addClass("icon--collapse--max"),$("html, body").animate({scrollTop:$(document).height()},"slow"),!1):($(".icon--collapse--footer").removeClass("icon--collapse--max"),$(".icon--collapse--footer").addClass("icon--collapse--min"),void 0)})),molt($(".molt")).start(),$(".payment__method__tab--ul li:first").addClass("payment__method__tab--active"),$(".payment__method__tab--ul li a").click(function(a){a.preventDefault(),$(this).closest("li").addClass("payment__method__tab--active").siblings().removeClass("payment__method__tab--active");var e=$(this).attr("href");$(".payment__method__content").not(e).css("display","none"),$(e).fadeIn(),"internetbanking--tab"==$(this).attr("id")?($(".button--cc--transfer").hide(),$(".button--next--cimb").fadeIn()):"creditcard--tab"==$(this).attr("id")?($(".button--next--cimb").hide(),$(".button--cc--transfer").fadeIn(),$(".button--cc--transfer").css("display","inline-block")):"transfer--tab"==$(this).attr("id")?($(".button--next--cimb").hide(),$(".button--cc--transfer").fadeIn(),$(".button--cc--transfer").css("display","inline-block"),$(".adjustment__code__payment").fadeIn()):$(".adjustment__code__payment").hide()}),$(".account__right--ul li:first").addClass("account__right--active"),$(".account__right--ul li a").click(function(a){a.preventDefault(),$(this).closest("li").addClass("account__right--active").siblings().removeClass("account__right--active");var e=$(this).attr("href");$(".tab--account").not(e).css("display","none"),$(e).fadeIn()}),$(".table__orderhistory--list td a").click(function(a){a.preventDefault();var e=$(this).attr("href");$(".invoice__data__wrapper").not(e).css({display:"none"}),$(e).fadeIn("slow")});var v=new Array;$("#province").change(function(){t()}),$("#city").change(function(){e()}),$("#area").change(function(){a()}),$(".mp-del-cart").click(function(){var a=$(this),e=a.data("id"),t="id="+e,o=a.data("url");if(confirm("Are you sure to remove this cart?")){var s=a.parents("tr");$.ajax({type:"POST",url:o,dataType:"json",data:t,success:function(a){a.result.status?(s.fadeOut("slow",function(){s.remove()}),$("#totalcart").html(a.result.totalcart)):alert(a.result.msg)}})}}),$("#subscribe").click(function(){$(".info__alert").remove();var a=$(".input--subscribe").val(),e=window.location.origin,t=e+"/subscribe",o="";return $.ajax({type:"POST",url:t,dataType:"json",data:{email:a},success:function(a){o+=1==a.result.status?" <span class='info__alert alert--success'><span class='icon--alert--success'></span>"+a.result.message+"</span>":" <span class='info__alert alert--failed'><span class='icon--alert--failed'></span>"+a.result.message+"</span>",$(o).insertAfter(".form__content--subscribe"),$(".input--subscribe").val(""),$(".info__alert").show().delay(2e3).fadeOut()}}),!1}),$("#dropdownsearch").change(function(){$(".product--ul").empty(),$(".product__pagination").empty();var a=$("#dropdownsearch"),e=a.val();n(e)});var b=$("input[name='leftsearch']:checkbox");b.on("change",function(){var a=i();c(a)});var g=$("input:radio");g.on("change",function(){var a=d();p(a)}),$("#paymentconfirmation").click(function(){$(".form__content--info").hide();var a=$("input[name='invoiceid']").val(),e=$("#banktransfer").val(),t=$("input[name='email']").val(),o=$("input[name='totalpayment']").val(),s=$("#note").val(),n=$("input[name='date']").val(),l=window.location.origin,i=l+"/paymentconfirmation",c="";return $.ajax({type:"POST",url:i,dataType:"json",data:{invoiceid:a,banktransfer:e,email:t,totalpayment:o,note:s,date:n},success:function(a){1==a.result.status?(c+=" <span class='form__content--info info--success'>"+a.result.message+"</span>",$("input[name='invoiceid']").val(""),$("#banktransfer").val(""),$("input[name='email']").val(""),$("input[name='totalpayment']").val(""),$("#note").val(""),$("input[name='date']").val("")):c+=" <span class='form__content--info info--failed'>*"+a.result.message+"</span></br> ",$(c).insertAfter(".button--account")}}),!1}),$("#datepicker").datepicker({format:"yyyy-mm-dd"}),google.maps.event.addDomListener(window,"load",m)});